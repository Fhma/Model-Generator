<?xml version="1.0" encoding="ISO-8859-1"?>
<xmi:XMI xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:atl="http://www.eclipse.org/gmt/2005/ATL" xmlns:ocl="http://www.eclipse.org/gmt/2005/OCL">
  <atl:Module location="1:1-63:2" name="KM32SimpleClass">
    <inModels location="3:31-3:39" name="IN" metamodel="/2"/>
    <outModels location="3:8-3:25" name="OUT" metamodel="/1"/>
    <elements xsi:type="atl:MatchedRule" location="5:1-18:2" name="Class">
      <outPattern location="8:2-17:4">
        <elements xsi:type="atl:SimpleOutPatternElement" location="9:3-17:4" varName="t">
          <type xsi:type="ocl:OclModelElement" location="9:7-9:24" name="Class" model="/1"/>
          <bindings location="10:4-10:18" propertyName="name">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="10:12-10:18" name="name">
              <source xsi:type="ocl:VariableExp" location="10:12-10:13" referredVariable="/0/@elements.0/@inPattern/@elements.0"/>
            </value>
          </bindings>
          <bindings location="11:4-14:8" propertyName="attrs">
            <value xsi:type="ocl:IteratorExp" location="11:13-14:8" name="select">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="11:13-11:33" name="structuralFeatures">
                <source xsi:type="ocl:VariableExp" location="11:13-11:14" referredVariable="/0/@elements.0/@inPattern/@elements.0"/>
              </source>
              <body xsi:type="ocl:OperatorCallExp" location="12:14-13:31" operationName="and">
                <source xsi:type="ocl:OperationCallExp" location="12:14-12:43" operationName="oclIsKindOf">
                  <source xsi:type="ocl:VariableExp" location="12:14-12:16" referredVariable="/0/@elements.0/@outPattern/@elements.0/@bindings.1/@value/@iterators.0"/>
                  <arguments xsi:type="ocl:OclModelElement" location="12:29-12:42" name="Attribute" model="/2"/>
                </source>
                <arguments xsi:type="ocl:OperatorCallExp" location="13:8-13:31" operationName="&lt;>">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="13:8-13:15" name="name">
                    <source xsi:type="ocl:VariableExp" location="13:8-13:10" referredVariable="/0/@elements.0/@outPattern/@elements.0/@bindings.1/@value/@iterators.0"/>
                  </source>
                  <arguments xsi:type="ocl:StringExp" location="13:19-13:31" stringSymbol="persistent"/>
                </arguments>
              </body>
              <iterators location="11:42-11:44" varName="sf" variableExp="/0/@elements.0/@outPattern/@elements.0/@bindings.1/@value/@body/@source/@source /0/@elements.0/@outPattern/@elements.0/@bindings.1/@value/@body/@arguments.0/@source/@source"/>
            </value>
          </bindings>
          <bindings location="15:4-15:35" propertyName="parent">
            <value xsi:type="ocl:CollectionOperationCallExp" location="15:14-15:35" operationName="first">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="15:14-15:26" name="supertypes">
                <source xsi:type="ocl:VariableExp" location="15:14-15:15" referredVariable="/0/@elements.0/@inPattern/@elements.0"/>
              </source>
            </value>
          </bindings>
          <bindings location="16:4-16:74" propertyName="is_persistent">
            <value xsi:type="ocl:IteratorExp" location="16:19-16:74" name="exists">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="16:19-16:39" name="structuralFeatures">
                <source xsi:type="ocl:VariableExp" location="16:19-16:20" referredVariable="/0/@elements.0/@inPattern/@elements.0"/>
              </source>
              <body xsi:type="ocl:OperatorCallExp" location="16:53-16:73" operationName="=">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="16:53-16:60" name="name">
                  <source xsi:type="ocl:VariableExp" location="16:53-16:55" referredVariable="/0/@elements.0/@outPattern/@elements.0/@bindings.3/@value/@iterators.0"/>
                </source>
                <arguments xsi:type="ocl:StringExp" location="16:61-16:73" stringSymbol="persistent"/>
              </body>
              <iterators location="16:48-16:50" varName="sf" variableExp="/0/@elements.0/@outPattern/@elements.0/@bindings.3/@value/@body/@source/@source"/>
            </value>
          </bindings>
        </elements>
      </outPattern>
      <inPattern location="6:2-7:16">
        <elements xsi:type="atl:SimpleInPatternElement" location="7:3-7:16" varName="s" variableExp="/0/@elements.0/@outPattern/@elements.0/@bindings.0/@value/@source /0/@elements.0/@outPattern/@elements.0/@bindings.1/@value/@source/@source /0/@elements.0/@outPattern/@elements.0/@bindings.2/@value/@source/@source /0/@elements.0/@outPattern/@elements.0/@bindings.3/@value/@source/@source">
          <type xsi:type="ocl:OclModelElement" location="7:7-7:16" name="Class" model="/2"/>
        </elements>
      </inPattern>
    </elements>
    <elements xsi:type="atl:MatchedRule" location="20:1-44:2" name="Attribute">
      <outPattern location="38:2-43:6">
        <elements xsi:type="atl:SimpleOutPatternElement" location="39:5-43:6" varName="t">
          <type xsi:type="ocl:OclModelElement" location="39:9-39:30" name="Attribute" model="/1"/>
          <bindings location="40:9-40:19" propertyName="name">
            <value xsi:type="ocl:VariableExp" location="40:15-40:19" referredVariable="/0/@elements.1/@variables.1"/>
          </bindings>
          <bindings location="41:6-41:18" propertyName="type">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="41:12-41:18" name="type">
              <source xsi:type="ocl:VariableExp" location="41:12-41:13" referredVariable="/0/@elements.1/@inPattern/@elements.0"/>
            </value>
          </bindings>
          <bindings location="42:6-42:28" propertyName="is_primary">
            <value xsi:type="ocl:VariableExp" location="42:18-42:28" referredVariable="/0/@elements.1/@variables.0"/>
          </bindings>
        </elements>
      </outPattern>
      <variables location="26:3-30:16" varName="is_primary" variableExp="/0/@elements.1/@variables.1/@initExpression/@condition /0/@elements.1/@outPattern/@elements.0/@bindings.2/@value">
        <type xsi:type="ocl:BooleanType" location="26:16-26:23"/>
        <initExpression xsi:type="ocl:IfExp" location="26:26-30:15">
          <thenExpression xsi:type="ocl:OperatorCallExp" location="27:21-28:65" operationName="=">
            <source xsi:type="ocl:CollectionOperationCallExp" location="27:21-28:54" operationName="substring">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="27:21-27:27" name="name">
                <source xsi:type="ocl:VariableExp" location="27:21-27:22" referredVariable="/0/@elements.1/@inPattern/@elements.0"/>
              </source>
              <arguments xsi:type="ocl:OperatorCallExp" location="27:39-27:55" operationName="-">
                <source xsi:type="ocl:CollectionOperationCallExp" location="27:39-27:53" operationName="size">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="27:39-27:45" name="name">
                    <source xsi:type="ocl:VariableExp" location="27:39-27:40" referredVariable="/0/@elements.1/@inPattern/@elements.0"/>
                  </source>
                </source>
                <arguments xsi:type="ocl:IntegerExp" location="27:54-27:55" integerSymbol="7"/>
              </arguments>
              <arguments xsi:type="ocl:CollectionOperationCallExp" location="28:39-28:53" operationName="size">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="28:39-28:45" name="name">
                  <source xsi:type="ocl:VariableExp" location="28:39-28:40" referredVariable="/0/@elements.1/@inPattern/@elements.0"/>
                </source>
              </arguments>
            </source>
            <arguments xsi:type="ocl:StringExp" location="28:55-28:65" stringSymbol="_primary"/>
          </thenExpression>
          <condition xsi:type="ocl:OperatorCallExp" location="26:29-26:47" operationName=">">
            <source xsi:type="ocl:CollectionOperationCallExp" location="26:29-26:43" operationName="size">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="26:29-26:35" name="name">
                <source xsi:type="ocl:VariableExp" location="26:29-26:30" referredVariable="/0/@elements.1/@inPattern/@elements.0"/>
              </source>
            </source>
            <arguments xsi:type="ocl:IntegerExp" location="26:46-26:47" integerSymbol="8"/>
          </condition>
          <elseExpression xsi:type="ocl:BooleanExp" location="29:15-29:20"/>
        </initExpression>
      </variables>
      <variables location="32:3-35:12" varName="name" variableExp="/0/@elements.1/@outPattern/@elements.0/@bindings.0/@value">
        <type xsi:type="ocl:StringType" location="32:10-32:16"/>
        <initExpression xsi:type="ocl:IfExp" location="32:19-35:11">
          <thenExpression xsi:type="ocl:CollectionOperationCallExp" location="33:17-33:55" operationName="substring">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="33:17-33:23" name="name">
              <source xsi:type="ocl:VariableExp" location="33:17-33:18" referredVariable="/0/@elements.1/@inPattern/@elements.0"/>
            </source>
            <arguments xsi:type="ocl:IntegerExp" location="33:35-33:36" integerSymbol="1"/>
            <arguments xsi:type="ocl:OperatorCallExp" location="33:38-33:54" operationName="-">
              <source xsi:type="ocl:CollectionOperationCallExp" location="33:38-33:52" operationName="size">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="33:38-33:44" name="name">
                  <source xsi:type="ocl:VariableExp" location="33:38-33:39" referredVariable="/0/@elements.1/@inPattern/@elements.0"/>
                </source>
              </source>
              <arguments xsi:type="ocl:IntegerExp" location="33:53-33:54" integerSymbol="8"/>
            </arguments>
          </thenExpression>
          <condition xsi:type="ocl:VariableExp" location="32:22-32:32" referredVariable="/0/@elements.1/@variables.0"/>
          <elseExpression xsi:type="ocl:NavigationOrAttributeCallExp" location="34:11-34:17" name="name">
            <source xsi:type="ocl:VariableExp" location="34:11-34:12" referredVariable="/0/@elements.1/@inPattern/@elements.0"/>
          </elseExpression>
        </initExpression>
      </variables>
      <inPattern location="21:5-24:6">
        <elements xsi:type="atl:SimpleInPatternElement" location="22:5-22:22" varName="s" variableExp="/0/@elements.1/@inPattern/@filter/@source/@source /0/@elements.1/@variables.0/@initExpression/@condition/@source/@source/@source /0/@elements.1/@variables.0/@initExpression/@thenExpression/@source/@source/@source /0/@elements.1/@variables.0/@initExpression/@thenExpression/@source/@arguments.0/@source/@source/@source /0/@elements.1/@variables.0/@initExpression/@thenExpression/@source/@arguments.1/@source/@source /0/@elements.1/@variables.1/@initExpression/@thenExpression/@source/@source /0/@elements.1/@variables.1/@initExpression/@thenExpression/@arguments.1/@source/@source/@source /0/@elements.1/@variables.1/@initExpression/@elseExpression/@source /0/@elements.1/@outPattern/@elements.0/@bindings.1/@value/@source">
          <type xsi:type="ocl:OclModelElement" location="22:9-22:22" name="Attribute" model="/2"/>
        </elements>
        <filter xsi:type="ocl:OperatorCallExp" location="23:6-23:28" operationName="&lt;>">
          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="23:6-23:12" name="name">
            <source xsi:type="ocl:VariableExp" location="23:6-23:7" referredVariable="/0/@elements.1/@inPattern/@elements.0"/>
          </source>
          <arguments xsi:type="ocl:StringExp" location="23:16-23:28" stringSymbol="persistent"/>
        </filter>
      </inPattern>
    </elements>
    <elements xsi:type="atl:MatchedRule" location="46:1-53:2" name="PrimitiveTypes">
      <outPattern location="49:3-52:9">
        <elements xsi:type="atl:SimpleOutPatternElement" location="50:8-52:9" varName="t">
          <type xsi:type="ocl:OclModelElement" location="50:12-50:41" name="PrimitiveDataType" model="/1"/>
          <bindings location="51:10-51:22" propertyName="name">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="51:16-51:22" name="name">
              <source xsi:type="ocl:VariableExp" location="51:16-51:17" referredVariable="/0/@elements.2/@inPattern/@elements.0"/>
            </value>
          </bindings>
        </elements>
      </outPattern>
      <inPattern location="47:3-48:20">
        <elements xsi:type="atl:SimpleInPatternElement" location="48:4-48:20" varName="s" variableExp="/0/@elements.2/@outPattern/@elements.0/@bindings.0/@value/@source">
          <type xsi:type="ocl:OclModelElement" location="48:8-48:20" name="DataType" model="/2"/>
        </elements>
      </inPattern>
    </elements>
    <elements xsi:type="atl:MatchedRule" location="55:1-63:2" name="Reference">
      <outPattern location="57:2-62:16">
        <elements xsi:type="atl:SimpleOutPatternElement" location="58:7-62:16" varName="assoc">
          <type xsi:type="ocl:OclModelElement" location="58:15-58:38" name="Association" model="/1"/>
          <bindings location="59:16-59:30" propertyName="name">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="59:22-59:30" name="name">
              <source xsi:type="ocl:VariableExp" location="59:22-59:25" referredVariable="/0/@elements.3/@inPattern/@elements.0"/>
            </value>
          </bindings>
          <bindings location="60:6-60:20" propertyName="src">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="60:11-60:20" name="owner">
              <source xsi:type="ocl:VariableExp" location="60:11-60:14" referredVariable="/0/@elements.3/@inPattern/@elements.0"/>
            </value>
          </bindings>
          <bindings location="61:6-61:20" propertyName="dest">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="61:12-61:20" name="type">
              <source xsi:type="ocl:VariableExp" location="61:12-61:15" referredVariable="/0/@elements.3/@inPattern/@elements.0"/>
            </value>
          </bindings>
        </elements>
      </outPattern>
      <inPattern location="56:2-56:26">
        <elements xsi:type="atl:SimpleInPatternElement" location="56:7-56:26" varName="ref" variableExp="/0/@elements.3/@outPattern/@elements.0/@bindings.0/@value/@source /0/@elements.3/@outPattern/@elements.0/@bindings.1/@value/@source /0/@elements.3/@outPattern/@elements.0/@bindings.2/@value/@source">
          <type xsi:type="ocl:OclModelElement" location="56:13-56:26" name="Reference" model="/2"/>
        </elements>
      </inPattern>
    </elements>
  </atl:Module>
  <ocl:OclModel location="3:14-3:25" name="SimpleClass" elements="/0/@elements.0/@outPattern/@elements.0/@type /0/@elements.1/@outPattern/@elements.0/@type /0/@elements.2/@outPattern/@elements.0/@type /0/@elements.3/@outPattern/@elements.0/@type" model="/0/@outModels.0"/>
  <ocl:OclModel location="3:36-3:39" name="KM3" elements="/0/@elements.0/@inPattern/@elements.0/@type /0/@elements.0/@outPattern/@elements.0/@bindings.1/@value/@body/@source/@arguments.0 /0/@elements.1/@inPattern/@elements.0/@type /0/@elements.2/@inPattern/@elements.0/@type /0/@elements.3/@inPattern/@elements.0/@type" model="/0/@inModels.0"/>
</xmi:XMI>
